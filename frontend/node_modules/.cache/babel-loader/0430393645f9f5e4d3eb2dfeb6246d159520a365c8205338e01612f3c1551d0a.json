{"ast":null,"code":"var _jsxFileName = \"/home/yc-user/taski/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport TaskEditModal from \"./components/TaskEditModal\";\nimport Task from \"./components/Task\";\nimport TabList from \"./components/TabList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.interceptors.response.use(function (response) {\n  if (response.headers['content-type'] !== 'application/json') {\n    alert('unsupport data format in server response');\n    return Promise.reject(new Error('unsupport data format'));\n  }\n  return response;\n});\nconst App = () => {\n  _s();\n  const [isShowCompleted, setIsShowCompleted] = useState(false);\n  const [taskList, setTaskList] = useState([]);\n  const [activeTask, setActiveTask] = useState(null);\n  const refreshList = () => {\n    axios.get(\"/api/tasks/\").then(res => setTaskList(res.data)).catch(console.error);\n  };\n  useEffect(() => {\n    refreshList();\n  }, []);\n  const handleSubmit = item => {\n    const request = item.id ? axios.put(`/api/tasks/${item.id}/`, item) : axios.post(\"/api/tasks/\", item);\n    request.then(res => {\n      refreshList();\n      setActiveTask(null);\n    }).catch(console.error);\n  };\n  const handleDelete = item => {\n    axios.delete(`/api/tasks/${item.id}/`).then(refreshList).catch(console.error);\n  };\n  const createTask = () => {\n    setActiveTask({\n      title: \"\",\n      description: \"\",\n      completed: false\n    });\n  };\n  const showedTasks = taskList.filter(item => item.completed === isShowCompleted);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text text-uppercase text-center my-4\",\n      children: \"Taski\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 col-sm-10 mx-auto p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: createTask,\n              children: \"Add task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabList, {\n            displayCompleted: setIsShowCompleted,\n            isShowCompleted: isShowCompleted\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group list-group-flush border-top-0\",\n            children: showedTasks.map(task => /*#__PURE__*/_jsxDEV(Task, {\n              data: task,\n              handleEdit: setActiveTask,\n              handleDelete: handleDelete\n            }, task.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), activeTask && /*#__PURE__*/_jsxDEV(TaskEditModal, {\n      taskData: activeTask,\n      toggle: () => setActiveTask(null),\n      onSave: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"UfcYeaZoZ0oO+C7NcEb63uHy1ZM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","TaskEditModal","Task","TabList","interceptors","response","use","headers","alert","Promise","reject","Error","App","isShowCompleted","setIsShowCompleted","taskList","setTaskList","activeTask","setActiveTask","refreshList","get","then","res","data","catch","console","error","handleSubmit","item","request","id","put","post","handleDelete","delete","createTask","title","description","completed","showedTasks","filter","map","task"],"sources":["/home/yc-user/taski/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport TaskEditModal from \"./components/TaskEditModal\";\nimport Task from \"./components/Task\";\nimport TabList from \"./components/TabList\";\n\naxios.interceptors.response.use(function (response) {\n  if (response.headers['content-type'] !== 'application/json') {\n    alert('unsupport data format in server response')\n    return Promise.reject(new Error('unsupport data format'));\n  }\n  return response;\n});\n\nconst App = () => {\n  const [isShowCompleted, setIsShowCompleted] = useState(false);\n  const [taskList, setTaskList] = useState([]);\n  const [activeTask, setActiveTask] = useState(null);\n\n  const refreshList = () => {\n    axios\n      .get(\"/api/tasks/\")\n      .then((res) => setTaskList(res.data))\n      .catch(console.error);\n  };\n\n  useEffect(() => {\n    refreshList();\n  }, []);\n\n  const handleSubmit = (item) => {\n    const request = item.id\n      ? axios.put(`/api/tasks/${item.id}/`, item)\n      : axios.post(\"/api/tasks/\", item);\n\n    request\n      .then((res) => {\n        refreshList();\n        setActiveTask(null);\n      })\n      .catch(console.error);\n  };\n\n  const handleDelete = (item) => {\n    axios\n      .delete(`/api/tasks/${item.id}/`)\n      .then(refreshList)\n      .catch(console.error);\n  };\n\n  const createTask = () => {\n    setActiveTask({ title: \"\", description: \"\", completed: false });\n  };\n\n  const showedTasks = taskList.filter(\n    (item) => item.completed === isShowCompleted\n  );\n\n  return (\n    <main className=\"container\">\n      <h1 className=\"text text-uppercase text-center my-4\">Taski</h1>\n      <div className=\"row\">\n        <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n          <div className=\"card p-3\">\n            <div className=\"mb-4\">\n              <button className=\"btn btn-primary\" onClick={createTask}>\n                Add task\n              </button>\n            </div>\n            <TabList\n              displayCompleted={setIsShowCompleted}\n              isShowCompleted={isShowCompleted}\n            />\n            <ul className=\"list-group list-group-flush border-top-0\">\n              {showedTasks.map((task) => (\n                <Task\n                  key={task.id}\n                  data={task}\n                  handleEdit={setActiveTask}\n                  handleDelete={handleDelete}\n                />\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n      {activeTask && (\n        <TaskEditModal\n          taskData={activeTask}\n          toggle={() => setActiveTask(null)}\n          onSave={handleSubmit}\n        />\n      )}\n    </main>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}